<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>The NEW Reitaku Campus Web Map</title>
	<link href="https://unpkg.com/maplibre-gl@2.4.0/dist/maplibre-gl.css" rel="stylesheet" />
	<link rel="stylesheet" href="style.css">
	<style>
		.modal-slideshow-nav {
			position: absolute;
			top: 50%;
			background: rgba(0,0,0,0.5);
			color: white;
			border: none;
			padding: 0;
			cursor: pointer;
			font-size: 18px;
			z-index: 1003;
			user-select: none;
			transition: background-color 0.3s ease, opacity 0.3s ease;
			width: 50px;
			height: 50px;
			display: flex;
			align-items: center;
			justify-content: center;
			border-radius: 4px;
			transform: translateY(-50%);
			opacity: 0.7;
		}
		.modal-prev { left: 15px; }
		.modal-next { right: 15px; }
		.modal-slideshow-nav:hover {
			background: rgba(0,0,0,0.8);
			opacity: 1;
		}
		.modal-content { position: relative; }
	</style>
	<meta property="og:title" content="The NEW Reitaku Campus Web Map">
	<meta property="og:url" content="https://yoshi615.github.io/OpenCampusMap/">
	<meta property="og:type" content="website">
	<link rel="apple-touch-icon" href="images/Map_icon.png">
	<link rel="manifest" href="manifest.json">
	<meta property="og:image" content="images/Map_icon.png">
</head>
<body>
	<img src="https://www.reitaku-u.ac.jp/_assets/images/logo.svg" alt="Reitaku University Logo" id="reitaku-logo">
	<div class="container">
		<div id="left-panel" class="closed">
			<div id="panel-handle">
				<span class="handle-icon"></span>
			</div>
			<button id="close-panel-btn" style="display:none; position:absolute; top:10px; right:10px; z-index:10;">×</button>
			<div id="info">Hover over a marker for details</div>
		</div>
		<div id="right-panel">
			<div id="map">
				<input type="text" id="marker-search" placeholder="名前で検索">
				<button id="tools-toggle" class="tools-toggle" data-ja="ツールを表示" data-en="Show Tools">ツールを表示</button>
				<button id="route-btn" class="map-control-btn" data-ja="正門への経路" data-en="Route to Gate">正門への経路</button>
				
				<div id="map-tools">
					<div class="control-group">
						<label class="control-label" data-ja="タイムマシン" data-en="Time Machine">タイムマシン</label>
						<select id="map-style-dropdown" class="map-control">
							<option value="normal" data-ja="標準地図" data-en="Normal Map">標準地図</option>
							<option value="2023" data-ja="現在" data-en="Present">現在</option>
							<option value="2019">2019</option>
							<option value="2014">2014</option>
							<option value="2012">2012</option>
							<option value="2008">2008</option>
							<option value="1987">1987</option>
							<option value="1984">1984</option>
							<option value="1979">1979</option>
							<option value="1974">1974</option>
							<option value="1961">1961</option>
						</select>
					</div>
					<div class="control-group">
						<div class="control-header">
							<label class="control-label" data-ja="表示" data-en="Show">表示</label>
							<div class="control-actions">
								<a href="#" class="control-link" id="check-all" data-ja="すべて表示" data-en="Show all">すべて表示</a>
								<span class="control-separator">|</span>
								<a href="#" class="control-link" id="uncheck-all" data-ja="すべて非表示" data-en="Hide all">すべて非表示</a>
							</div>
						</div>
						<div id="marker-filter" class="checkbox-group">
							<label class="checkbox-label">
								<input type="checkbox" value="0" checked>
								<span class="checkbox-text" data-ja="大学" data-en="University">大学</span>
							</label>
							<label class="checkbox-label">
								<input type="checkbox" value="1" checked>
								<span class="checkbox-text" data-ja="中学・高校" data-en="Middle & High School">中学・高校</span>
							</label>
							<label class="checkbox-label">
								<input type="checkbox" value="2" checked>
								<span class="checkbox-text" data-ja="スポーツ施設" data-en="Sports Facility">スポーツ施設</span>
							</label>
							<label class="checkbox-label">
								<input type="checkbox" value="3" checked>
								<span class="checkbox-text" data-ja="その他" data-en="Others">その他</span>
							</label>
							<label class="checkbox-label">
								<input type="checkbox" value="4" checked>
								<span class="checkbox-text" data-ja="AED" data-en="AED">AED</span>
							</label>
							<label class="checkbox-label">
								<input type="checkbox" value="5" checked>
								<span class="checkbox-text" data-ja="多目的トイレ" data-en="Barrier-free Toilet">多目的トイレ</span>
							</label>
						</div>
					</div>
					<div class="control-row">
						<label class="switch-3d">
							<input type="checkbox" id="threeDToggle">
							<span class="slider "></span>
							<span class="switch-label">3D</span>
						</label>

							<label class="switch-lang" style="float: right;">
							<input type="checkbox" id="languageToggle">
							<span class="slider lang-slider">
								<span class="lang-option ja">JA</span>
								<span class="lang-option en">EN</span>
							</span>
							</label>
					</div>
				</div>
			</div>
		</div>
	</div>
	<script src="https://unpkg.com/maplibre-gl@2.4.0/dist/maplibre-gl.js"></script>
	<script src="map.js"></script>
	<script src="getdata.js"></script>
	<script>
		document.addEventListener('DOMContentLoaded', function() {
			setTimeout(() => {
				const attribution = document.querySelector('.maplibregl-ctrl-attrib-inner');
				if (attribution) {
					const customCredit = ', © <a href="https://ichijo.booth.pm/" target="_blank" rel="noopener noreferrer">アガタ水晶/一畳ちょっとの二人部屋BOOTH支店</a>';
					attribution.innerHTML += customCredit;
				}
			}, 1000);
		});
	</script>
</body>
</html>